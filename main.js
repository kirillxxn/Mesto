(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",n)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}var o=document.querySelector("#card-template");function i(e,t,n,i){var c=o.content.querySelector(".places__item").cloneNode(!0),r=c.querySelector(".card__like-button"),u=c.querySelector(".card__image");return u.src=e.link,u.alt=e.name,c.querySelector(".card__title").textContent=e.name,c.querySelector(".card__delete-button").addEventListener("click",(function(){t(c)})),r.addEventListener("click",(function(e){n(e)})),u.addEventListener("click",(function(t){i(t,e)})),c}function c(e){e.target.classList.contains("card__like-button")&&e.target.classList.toggle("card__like-button_is-active")}function r(e){e.remove()}var u=document.querySelector(".content").querySelector(".places__list"),a=document.querySelector(".profile__edit-button"),p=document.querySelector(".popup_type_edit"),l=p.querySelector(".popup__close"),d=document.querySelector(".profile__title"),s=document.querySelector(".profile__description"),f=document.forms["edit-profile"],_=f.querySelector(".popup__input_type_name"),m=f.querySelector(".popup__input_type_description"),x=document.querySelector(".profile__add-button"),y=document.querySelector(".popup_type_new-card"),v=y.querySelector(".popup__close"),q=document.forms["new-place"],b=document.querySelector(".popup__input_type_card-name"),w=document.querySelector(".popup__input_type_url"),D=document.querySelector(".popup_type_image"),k=D.querySelector(".popup__image"),L=D.querySelector(".popup__caption"),S=D.querySelector(".popup__close");function g(t,n){t.target.classList.contains("card__delete-button")||(k.src=n.link,k.alt=n.name,L.textContent=n.name,e(D))}document.addEventListener("DOMContentLoaded",(function(){p.classList.add("popup_is-animated"),y.classList.add("popup_is-animated"),D.classList.add("popup_is-animated")})),[{name:"Сан-Диего",link:"https://images.unsplash.com/photo-1538360259192-2081a1f28ebb?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Дублин",link:"https://images.unsplash.com/photo-1525160354320-d8e92641c563?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Стамбул",link:"https://plus.unsplash.com/premium_photo-1661962322472-e0be5fa94a36?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Бруклин",link:"https://images.unsplash.com/photo-1625182918997-7f03991c6032?q=80&w=1936&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Брисбен",link:"https://images.unsplash.com/photo-1621135152907-a54980fc4846?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Токио",link:"https://images.unsplash.com/photo-1601042879364-f3947d3f9c16?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){u.append(i(e,r,c,g))})),a.addEventListener("click",(function(){e(p),_.value=d.textContent,m.value=s.textContent})),f.addEventListener("submit",(function(e){e.preventDefault(),d.textContent=_.value,s.textContent=m.value,t(p)})),l.addEventListener("click",(function(){t(p)})),p.addEventListener("click",(function(e){e.currentTarget===e.target&&t(p)})),x.addEventListener("click",(function(){e(y)})),q.addEventListener("submit",(function(e){e.preventDefault();var n={link:w.value,name:b.value};u.prepend(i(n,r,c,g)),q.reset(),t(y)})),v.addEventListener("click",(function(){t(y)})),y.addEventListener("click",(function(e){e.currentTarget===e.target&&t(y)})),S.addEventListener("click",(function(){t(D)})),D.addEventListener("click",(function(e){e.currentTarget===e.target&&t(D)}))})();